# Dudoser

[![Build Status](http://ci.rbkmoney.com/buildStatus/icon?job=rbkmoney_private/dudoser/master)](http://ci.rbkmoney.com/job/rbkmoney_private/job/dudoser/job/master/)

Сервис уведомляющий плательщика об успешном платеже


### Developers

- [Anatoly Cherkasov](https://github.com/avcherkasov)


### Оглавление:

1. [Полезные ссылки](docs/useful_links.md)
1. [FAQ](docs/faq.md)


---
[Журнал изменений](CHANGELOG.md)

### TODO

1. Сервис должен предоставлять интерфейс для отправки писем (смс, push-уведомлений, далее просто "письма"). 
  Возможны варианты:
  а) Отправить письмо (тема и тело письма, вложения) на указанный адрес
  б) Отправить письмо (данные мерчанта и/или инвойса, идентификатор шаблона письма)
   на указанный адрес
  в) Отправить письмо (данные мерчанта и/или инвойса) на указанный адрес
2. Сервис должен предоставлять интерфейс для добавления/редактирования шаблонов писем.
  а) Добавить новый шаблон (для писем это, например, ftl-шаблон) с вложениями (если есть). 
     Может содержать в себе картинки в base64 формате прямо в шаблоне.
     Формат шаблона - строка, вложения - это список массивов байт.
  б) Редактировать/удалить существующий шаблон  
3. Шаблоны и вложения сохраняются в БД (Postgres)  
4. Должен быть шаблон по умолчанию под номером 1 (условно). Можно использовать в пункте 1б.
5. Шаблоны могут привязываться к мерчанту или к какой-нибудь группе. В таком случае для п. 1в шаблон будет определяться автоматически.
6. Существующий механизм поллинга в сервисе так же должен использовать шаблоны.

**К бете необходимо реалиовать п.1.**
**Остальные пункты (2-6) будут реализованы после беты. Пока их необходимо только предусмотреть в протоколе.**