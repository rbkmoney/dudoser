# Dudoser

[![Build Status](http://ci.rbkmoney.com/buildStatus/icon?job=rbkmoney_private/dudoser/master)](http://ci.rbkmoney.com/job/rbkmoney_private/job/dudoser/job/master/)

Сервис уведомляющий плательщика об успешном платеже


### Developers

- [Anatoly Cherkasov](https://github.com/avcherkasov)


### Оглавление:

1. [Полезные ссылки](docs/useful_links.md)
1. [FAQ](docs/faq.md)


---
[Журнал изменений](CHANGELOG.md)

### TODO

1. Сервис должен предоставлять интерфейс для отправки писем (смс, push-уведомлений, далее просто "письма") 
   со следующими параметрами: 
   - тема и тело письма, вложения на список указанных адресов 
2. Реализация сервиса, помимо п.1, также должна осуществлять поллинг эвентов и отправку писем с использованием шаблонов и вложений к шаблону.
   Шаблон представляет собой строку в формате FreeMarker-template;
   Может содержать в себе картинки в base64-формате;
   Вложения к шаблону - это список байтовых массивов.
   Шаблоны и вложения сохраняются в БД (Postgres).
3. Привязка эвента к шаблону осуществляется через связку messType+merchID+shopID.   
   Если шаблон не найден по этой связке, то ищется сначала по messType+merchID. 
   Если не найден и по этой связке, то ищется по messType.
   Если не найден по messType, то генерируется исключение.